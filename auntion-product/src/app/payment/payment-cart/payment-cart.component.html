<article>
  <!-- Start Multiform HTML -->
  <section class="multi_step_form">
    <form [formGroup]="payment" (ngSubmit)="submit1()" id="msform">
      <div class="tittle">
        <h2>CHECKOUT</h2>
        <p>In order to use this service, you have to complete this verification process</p>
        <div class="verticalLine">
        </div>
      </div>
      <!-- progressbar -->
      <div class="tab_container">
        <input id="tab1" type="radio" name="tabs" checked>
        <label for="tab1"><span class="numberCircle">1</span><span>Cart</span></label>

        <input id="tab2" type="radio" name="tabs">
        <label for="tab2"><span class="numberCircle">2</span><span>Information</span></label>

        <input id="tab3" type="radio" name="tabs" >
        <label for="tab3"><span class="numberCircle">3</span><span>Payment</span></label>
        <section id="content1" class="tab-content">

<!--          // Step1-->
          <fieldset style="" >
            <div class=" container-fluid my-10 ">
              <div class="row justify-content-center ">
                <div class="col-xl-12">
                  <div class="card shadow-lg add-shadown">
                    <div class="row justify-content-around">
                      <div class="col-md-12">
                        <div class="card border-0 ">
                          <div class="card-header card-2">
                            <p class="card-text text-muted mt-md-4  mb-2 space">YOUR ORDER <span class=" small text-muted ml-2 cursor-pointer"></span> </p>
                            <hr class="my-2">
                          </div>
                          <div class="card-body pt-0">
                            <div>
                              <div *ngFor="let product of products" class="row  justify-content-between">
                                <div class="col-auto col-md-7">
                                  <div class="media flex-column flex-sm-row">
                                    <span><input (change)="setTotal(product.idProduct)" checked [id]="product.idProduct" type="checkbox"></span>
                                    <img class=" img-fluid" src="https://thumbs.dreamstime.com/b/new-iphone-features-all-screen-design-99917162.jpg" width="62" height="62">
                                    <div style="padding-left: 15px" class="media-body  my-auto">
                                      <div class="row ">
                                        <div class="col-auto"><p class="mb-0"><b>{{product.nameProduct}}</b></p><small class="text-muted">{{product.productDescription}}</small></div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class=" pl-0 flex-sm-col col-auto  my-auto "><p><b>{{product.finalPrice}}$</b></p></div>
                              </div>
                              <i *ngIf="product.length == 0" style="color: red">Please choose product payment!</i>
                              <hr class="my-2">
                              <div class="row ">
                                <div class="col">
                                  <div class="row justify-content-between">
                                    <div class="col-4"><p class="mb-1"><b>Subtotal</b></p></div>
                                    <div class="flex-sm-col col-auto"><p class="mb-1"><b>{{subPrice}}$</b></p></div>
                                  </div>
                                  <div class="row justify-content-between">
                                    <div class="col"><p class="mb-1"><b>Surcharge</b></p></div>
                                    <div class="flex-sm-col col-auto"><p class="mb-1"><b>{{fee}} SEK</b></p></div>
                                  </div>
                                  <div class="row justify-content-between">
                                    <div class="col-4"><p ><b>Total</b></p></div>
                                    <div class="flex-sm-col col-auto"><p  class="mb-1"><b>{{total}}$</b></p> </div>
                                  </div><hr class="my-0">
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </section>

<!--        Step2-->
        <section id="content2" class="tab-content">
          <fieldset style="padding-top: 25px" >
            <div class="card-header card-2" style="background-color: white">
              <p class="card-text text-muted mt-md-4  mb-2 space">RECEIVER INFORMATION <span class=" small text-muted ml-2 cursor-pointer"></span> </p>
              <hr class="my-2">
            </div>
            <div class="row">
              <div class="col-6">
                <div class="page">
                  <label class="field field_v1">
                    <input class="field__input" placeholder="Please enter first name!" formControlName="firstNameReceiver">
                    <span class="field__label-wrap">
                            <span class="field__label">First name<i style="color: red">(*)</i></span>
                        </span>
                  </label>
                  <div class="validate-noti" *ngIf="payment.get('firstNameReceiver').invalid">
                    <i *ngIf="payment.get('firstNameReceiver').errors.required">required!</i>
                    <i *ngIf="payment.get('firstNameReceiver').errors.pattern">firstName invalid!</i>
                  </div>
                  <label class="field field_v1">
                    <select class="form-select form-select-sm field__input" id="country" aria-label=".form-select-sm">
                      <option value="" selected>Select country</option>
                      <option value="Việt Nam"><p>Việt Nam</p></option>
                    </select>
                    <span class="field__label-wrap">
                            <span class="field__label">Country<i style="color: red">(*)</i></span>
                        </span>
                  </label>
                  <label class="field field_v1">
                    <select (change)="setWards()" formControlName="district" class="form-select form-select-sm field__input" id="district" aria-label=".form-select-sm">
                      <option value="" selected>Select district</option>
                      <option *ngFor="let districts of districtList " value="{{districts.Name}}"><p>{{districts.Name}}</p></option>
                    </select>
                    <span class="field__label-wrap">
                            <span class="field__label">District<i style="color: red">(*)</i></span>
                        </span>
                  </label>
                  <div class="validate-noti" *ngIf="payment.get('district').invalid && payment.get('district').touched">
                    <i *ngIf="payment.get('district').errors.required">required!</i>
                  </div>
                </div>
              </div>
              <div class="col-6">
                <div class="page">
                  <label class="field field_v1">
                    <input class="field__input" placeholder="Please enter last name!" formControlName="lastNameReceiver">
                    <span class="field__label-wrap">
                            <span class="field__label">Last name<i style="color: red">(*)</i></span>
                        </span>
                  </label>
                  <div class="validate-noti" *ngIf="payment.get('lastNameReceiver').invalid && payment.get('lastNameReceiver').touched">
                    <i *ngIf="payment.get('lastNameReceiver').errors.required">required!</i>
                    <i *ngIf="payment.get('lastNameReceiver').errors.pattern">lastName invalid!</i>
                  </div>
                  <label class="field field_v1">
                    <select (change)="setDistricts()" formControlName="city" class="form-select form-select-sm mb-3 field__input" id="city" aria-label=".form-select-sm">
                      <option value="" selected>Select city</option>
                      <option *ngFor="let citis of addressList" value="{{citis.Name}}" ><p>{{citis.Name}}</p></option>
                    </select>
                    <span class="field__label-wrap">
                            <span class="field__label">City<i style="color: red">(*)</i></span>
                        </span>
                  </label>
                  <div class="validate-noti" *ngIf="payment.get('city').invalid && payment.get('city').touched">
                    <i *ngIf="payment.get('city').errors.required">required!</i>
                  </div>
                  <label class="field field_v1">
                    <select formControlName="ward" class="form-select form-select-sm mb-3 field__input" id="ward" aria-label=".form-select-sm">
                      <option value="" selected>Select ward</option>
                      <option *ngFor="let wards of wardList" value="{{wards.Name}}"><p>{{wards.Name}}</p></option>
                    </select>
                    <span class="field__label-wrap">
                            <span class="field__label">Wards<i style="color: red">(*)</i></span>
                        </span>
                  </label>
                  <div class="validate-noti" *ngIf="payment.get('ward').invalid && payment.get('ward').touched">
                    <i *ngIf="payment.get('district').errors.required">required!</i>
                  </div>
                </div>
              </div>
              <div class="page">
                <label class="field field_v1">
                  <input class="field__input" placeholder="Please enter address!" formControlName="addressReceiver">
                  <span class="field__label-wrap">
                            <span class="field__label">Street<i style="color: red">(*)</i></span>
                        </span>
                </label>
                <div class="validate-noti" *ngIf="payment.get('addressReceiver').invalid && payment.get('addressReceiver').touched">
                  <i *ngIf="payment.get('addressReceiver').errors.required">required!</i>
                  <i *ngIf="payment.get('addressReceiver').errors.pattern">Address invalid!</i>
                </div>
                <label class="field field_v1">
                  <input class="field__input" placeholder="Please enter email!" formControlName="emailReceiver">
                  <span class="field__label-wrap">
                            <span class="field__label">E-mail<i style="color: red">(*)</i></span>
                        </span>
                </label>
                <div class="validate-noti" *ngIf="payment.get('emailReceiver').invalid && payment.get('emailReceiver').touched">
                  <i *ngIf="payment.get('emailReceiver').errors.required">required!</i>
                  <i *ngIf="payment.get('emailReceiver').errors.pattern">email invalid!</i>
                </div>
                <label class="field field_v1">
                  <input class="field__input" placeholder="Please enter phone number!" formControlName="phoneReceiver">
                  <span class="field__label-wrap">
                            <span class="field__label">Phone<i style="color: red">(*)</i></span>
                        </span>
                </label>
                <div class="validate-noti" *ngIf="payment.get('phoneReceiver').invalid && payment.get('phoneReceiver').touched">
                  <i *ngIf="payment.get('phoneReceiver').errors.required">required!</i>
                  <i *ngIf="payment.get('phoneReceiver').errors.pattern">Phone invalid!</i>
                </div>
                <label class="field field_v1">
                  <textarea formControlName="descriptionReceiver" class="field__input" placeholder="Other..."></textarea>
                  <span class="field__label-wrap">
                            <span class="field__label">Other</span>
                        </span>
                </label>
              </div>
            </div>
          </fieldset>
        </section>

<!--        Step3-->
        <section id="content3" class="tab-content">
          <fieldset>
              <div [hidden]="true" id="noti" class="alert alert-danger">
                <button type="button" class="close" (click)="hide()">&times;</button>
                <strong>Warning!</strong> Please fill in the information correctly and completely
              </div>
            <div class="pay-container">
              <ul class="pay-ul">
                <div class="pay-title">
                  <span>Transport</span>
                </div>
                <li>
                  <button type="button" class="pay-button radioLabel selected">
                    <div class="pay-img"><img src="https://svgshare.com/getbyhash/sha1-xp6yEPVg8JVylNGbC7hZjznyH0g="></div>
                    <div><h3>Standard shipping</h3></div>
                    <span class="pay-radio"></span>
                  </button>
                </li>
                <div class="pay-title">
                  <span>Payment</span>
                </div>
                <li>
                  <button type="button" (click)="setMethod()" id="paypal-btn" class="selected pay-button radioLabel p-check p-check-paypal">
                    <div class="pay-img"><img src="https://assets.eneba.com/payments/v1/color/braintree_paypal.svg"></div>
                    <div><h3>PayPal</h3></div>
                    <span class="pay-radio"></span>
                  </button>
                </li>
                <li class="ts">
                  <button type="button" (click)="setMethod1()" id="cod-btn" class="pay-button radioLabel p-check p-check-cod" >
                    <div class="pay-img"><img src="https://svgshare.com/getbyhash/sha1-hS+LSRR8m56UuZzbeOku5Uzgm8E="></div>
                    <div><h3>Payment on Delivery (COD)</h3></div>
                    <span class="pay-radio"></span>
                  </button>
                  <div class="pay-cod">
                    <div class="pay-cod-body">
                      <p>Just pay when you receive the goods</p>
                    </div>
                  </div>
                </li>
                <li class="ts">
                  <div class="pay-title">
                    <span>Payment</span>
                  </div>
                </li>
              </ul>
              <!--                    Get Infor Products to Payment-->
              <div class="pay-total">
                <div class="container">
                  <div class="row" style="padding-bottom: 25px;">
                    <div class="col-12">
                      <div class="font-weight-light pay-total-title" style=" text-align: left!important;">You're buying from:   <b style="color: black; font-size: 18px;">{{member.nameMember}}</b></div>
                    </div>
                  </div>
                  <div class="row " *ngFor="let item of product">
                    <div class="col-4 justify-content-center justify-content-center">
                      <div style="width: 60%" class="pay-total-img">
                        <img src="https://thumbs.dreamstime.com/b/new-iphone-features-all-screen-design-99917162.jpg"></div>
                    </div>
                    <div class="col-8">
                                    <span>
                                        {{item.nameProduct}}
                                    </span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <hr>
                    </div>
                  </div>
                  <div class="row justify-content-between">
                    <div class="col-4 pay-float-left">
                      <p class="mb-1">Sub-total</p>
                    </div>
                    <div class="flex-sm-col col-auto"><p class="mb-1"><b>{{subPrice}}$</b></p></div>
                  </div>
                  <div class="row justify-content-between">
                    <div class="col-4 pay-float-left">
                      <p class="mb-1">Service fee</p>
                    </div>
                    <div class="flex-sm-col col-auto"><p class="mb-1"><b>{{fee}}$</b></p></div>
                  </div>
                  <div class="row justify-content-between pay-total-final">
                    <div class="col-4 pay-float-left">
                      <p class="mb-1">Total:</p>
                    </div>
                    <div class="flex-sm-col col-auto"><p class="mb-1"><b>{{total}}$</b></p></div>
                  </div>
                  <div id="paypal" class="row btn-payment" hidden>
                    <div class="col btn-paypal">
                      <button type="submit" >
                        <div class="pay-total-img">
                          <span>Pay with</span>
                          <img src="https://assets.eneba.com/payments/v1/color/braintree_paypal.svg">
                        </div>
                      </button>
                    </div>
                  </div>
                  <div id="cod" class="row btn-payment" hidden>
                    <div class="col btn-paypal">
                      <button type="submit">
                        <div class="pay-total-img">
                          <span>Pay with</span>
                          <img src="https://svgshare.com/getbyhash/sha1-hS+LSRR8m56UuZzbeOku5Uzgm8E=">
                        </div>
                      </button>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <div class="QESfoQ">
                        By clicking "Continue" I acknowledge I have read and accepted the <button type="button" class="p-link">Terms and Conditions</button> including the <button type="button" class="p-link">Privacy Notice</button> and <button class="p-link" type="button">Cookies</button>. I also have read and accepted <button type="button" class="p-link">NightGame's T/C &amp; Refund Policy</button></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </fieldset>
        </section>
      </div>
    </form>
  </section>
  <!-- END Multiform HTML -->
</article>
